{"ast":null,"code":"import { __assign } from \"tslib\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n  if (isObjectOrArray(value)) {\n    return isArray(value) ? value.slice(0) : __assign({\n      __proto__: Object.getPrototypeOf(value)\n    }, value);\n  }\n  return value;\n}\nvar ObjectCanon = function () {\n  function ObjectCanon() {\n    this.known = new (canUseWeakSet ? WeakSet : Set)();\n    this.pool = new Trie(canUseWeakMap);\n    this.passes = new WeakMap();\n    this.keysByJSON = new Map();\n    this.empty = this.admit({});\n  }\n  ObjectCanon.prototype.isKnown = function (value) {\n    return isObjectOrArray(value) && this.known.has(value);\n  };\n  ObjectCanon.prototype.pass = function (value) {\n    if (isObjectOrArray(value)) {\n      var copy = shallowCopy(value);\n      this.passes.set(copy, value);\n      return copy;\n    }\n    return value;\n  };\n  ObjectCanon.prototype.admit = function (value) {\n    var _this = this;\n    if (isObjectOrArray(value)) {\n      var original = this.passes.get(value);\n      if (original) return original;\n      var proto = Object.getPrototypeOf(value);\n      switch (proto) {\n        case Array.prototype:\n          {\n            if (this.known.has(value)) return value;\n            var array = value.map(this.admit, this);\n            var node = this.pool.lookupArray(array);\n            if (!node.array) {\n              this.known.add(node.array = array);\n              if (globalThis.__DEV__ !== false) {\n                Object.freeze(array);\n              }\n            }\n            return node.array;\n          }\n        case null:\n        case Object.prototype:\n          {\n            if (this.known.has(value)) return value;\n            var proto_1 = Object.getPrototypeOf(value);\n            var array_1 = [proto_1];\n            var keys = this.sortedKeys(value);\n            array_1.push(keys.json);\n            var firstValueIndex_1 = array_1.length;\n            keys.sorted.forEach(function (key) {\n              array_1.push(_this.admit(value[key]));\n            });\n            var node = this.pool.lookupArray(array_1);\n            if (!node.object) {\n              var obj_1 = node.object = Object.create(proto_1);\n              this.known.add(obj_1);\n              keys.sorted.forEach(function (key, i) {\n                obj_1[key] = array_1[firstValueIndex_1 + i];\n              });\n              if (globalThis.__DEV__ !== false) {\n                Object.freeze(obj_1);\n              }\n            }\n            return node.object;\n          }\n      }\n    }\n    return value;\n  };\n  ObjectCanon.prototype.sortedKeys = function (obj) {\n    var keys = Object.keys(obj);\n    var node = this.pool.lookupArray(keys);\n    if (!node.keys) {\n      keys.sort();\n      var json = JSON.stringify(keys);\n      if (!(node.keys = this.keysByJSON.get(json))) {\n        this.keysByJSON.set(json, node.keys = {\n          sorted: keys,\n          json: json\n        });\n      }\n    }\n    return node.keys;\n  };\n  return ObjectCanon;\n}();\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n  if (isObjectOrArray(value)) {\n    if (stringifyCanon === void 0) {\n      resetCanonicalStringify();\n    }\n    var canonical = stringifyCanon.admit(value);\n    var json = stringifyCache.get(canonical);\n    if (json === void 0) {\n      stringifyCache.set(canonical, json = JSON.stringify(canonical));\n    }\n    return json;\n  }\n  return JSON.stringify(value);\n}, {\n  reset: resetCanonicalStringify\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n  stringifyCanon = new ObjectCanon();\n  stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}","map":{"version":3,"names":["__assign","Trie","canUseWeakMap","canUseWeakSet","isNonNullObject","isObjectOrArray","isArray","shallowCopy","value","slice","__proto__","Object","getPrototypeOf","ObjectCanon","known","WeakSet","Set","pool","passes","WeakMap","keysByJSON","Map","empty","admit","prototype","isKnown","has","pass","copy","set","_this","original","get","proto","Array","array","map","node","lookupArray","add","globalThis","__DEV__","freeze","proto_1","array_1","keys","sortedKeys","push","json","firstValueIndex_1","length","sorted","forEach","key","object","obj_1","create","i","obj","sort","JSON","stringify","canonicalStringify","assign","stringifyCanon","resetCanonicalStringify","canonical","stringifyCache","reset"],"sources":["D:/Repos/learn-dotnet/GraphQL_Angular_Subscriptions_V7_6_0/TodoClient/node_modules/@apollo/client/cache/inmemory/object-canon.js"],"sourcesContent":["import { __assign } from \"tslib\";\nimport { Trie } from \"@wry/trie\";\nimport { canUseWeakMap, canUseWeakSet, isNonNullObject as isObjectOrArray, } from \"../../utilities/index.js\";\nimport { isArray } from \"./helpers.js\";\nfunction shallowCopy(value) {\n    if (isObjectOrArray(value)) {\n        return isArray(value)\n            ? value.slice(0)\n            : __assign({ __proto__: Object.getPrototypeOf(value) }, value);\n    }\n    return value;\n}\nvar ObjectCanon = (function () {\n    function ObjectCanon() {\n        this.known = new (canUseWeakSet ? WeakSet : Set)();\n        this.pool = new Trie(canUseWeakMap);\n        this.passes = new WeakMap();\n        this.keysByJSON = new Map();\n        this.empty = this.admit({});\n    }\n    ObjectCanon.prototype.isKnown = function (value) {\n        return isObjectOrArray(value) && this.known.has(value);\n    };\n    ObjectCanon.prototype.pass = function (value) {\n        if (isObjectOrArray(value)) {\n            var copy = shallowCopy(value);\n            this.passes.set(copy, value);\n            return copy;\n        }\n        return value;\n    };\n    ObjectCanon.prototype.admit = function (value) {\n        var _this = this;\n        if (isObjectOrArray(value)) {\n            var original = this.passes.get(value);\n            if (original)\n                return original;\n            var proto = Object.getPrototypeOf(value);\n            switch (proto) {\n                case Array.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var array = value.map(this.admit, this);\n                    var node = this.pool.lookupArray(array);\n                    if (!node.array) {\n                        this.known.add(node.array = array);\n                        if (globalThis.__DEV__ !== false) {\n                            Object.freeze(array);\n                        }\n                    }\n                    return node.array;\n                }\n                case null:\n                case Object.prototype: {\n                    if (this.known.has(value))\n                        return value;\n                    var proto_1 = Object.getPrototypeOf(value);\n                    var array_1 = [proto_1];\n                    var keys = this.sortedKeys(value);\n                    array_1.push(keys.json);\n                    var firstValueIndex_1 = array_1.length;\n                    keys.sorted.forEach(function (key) {\n                        array_1.push(_this.admit(value[key]));\n                    });\n                    var node = this.pool.lookupArray(array_1);\n                    if (!node.object) {\n                        var obj_1 = node.object = Object.create(proto_1);\n                        this.known.add(obj_1);\n                        keys.sorted.forEach(function (key, i) {\n                            obj_1[key] = array_1[firstValueIndex_1 + i];\n                        });\n                        if (globalThis.__DEV__ !== false) {\n                            Object.freeze(obj_1);\n                        }\n                    }\n                    return node.object;\n                }\n            }\n        }\n        return value;\n    };\n    ObjectCanon.prototype.sortedKeys = function (obj) {\n        var keys = Object.keys(obj);\n        var node = this.pool.lookupArray(keys);\n        if (!node.keys) {\n            keys.sort();\n            var json = JSON.stringify(keys);\n            if (!(node.keys = this.keysByJSON.get(json))) {\n                this.keysByJSON.set(json, node.keys = { sorted: keys, json: json });\n            }\n        }\n        return node.keys;\n    };\n    return ObjectCanon;\n}());\nexport { ObjectCanon };\nexport var canonicalStringify = Object.assign(function (value) {\n    if (isObjectOrArray(value)) {\n        if (stringifyCanon === void 0) {\n            resetCanonicalStringify();\n        }\n        var canonical = stringifyCanon.admit(value);\n        var json = stringifyCache.get(canonical);\n        if (json === void 0) {\n            stringifyCache.set(canonical, json = JSON.stringify(canonical));\n        }\n        return json;\n    }\n    return JSON.stringify(value);\n}, {\n    reset: resetCanonicalStringify,\n});\nvar stringifyCanon;\nvar stringifyCache;\nfunction resetCanonicalStringify() {\n    stringifyCanon = new ObjectCanon;\n    stringifyCache = new (canUseWeakMap ? WeakMap : Map)();\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}